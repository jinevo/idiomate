(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["challenge"],{"13b3":function(t,e,n){},"21c1":function(t,e,n){},"46e1":function(t,e,n){"use strict";var i=n("21c1"),r=n.n(i);r.a},"63b7":function(t,e,n){},"98ed":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Challenge"},[t.isLocaleAvailable(t.$route.query.locale)?n("div",[n("v-slide-x-transition",{attrs:{mode:"out-in"}},[t.isLanguageDone?n("div",{key:"done"},[n("h1",[n("v-icon",[t._v("mdi-check")]),t._v(" ! You have just completed the "+t._s(t.languageLabel)+" language ! ")],1),n("h2",[t._v("Try with an other language")]),n("ChallengeLauncher")],1):n("div",{key:"todo"},[n("h1",[t._v(" Just say the sentence the best as you can ! ")]),n("SpeechRecognizer",{attrs:{grammars:t.grammars,lang:t.$route.query.locale},on:{"grammar:success":t.onGrammarSuccess,speech:t.onSpeech,"language:done":t.onLanguageDone}}),n("ChallengeCarousel",{attrs:{speech:t.speech,position:t.grammarSuccessPosition,grammars:t.grammars}})],1)])],1):n("div",[t._v(" You are trying to play with a language that is not available now ! ")])])},r=[],s=(n("a4d3"),n("4de4"),n("7db0"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("2fa7")),o=n("2b0e"),a=n("2f62"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},u=[],l=(n("a630"),n("a15b"),n("d81d"),n("fb6a"),n("45fc"),n("3ca3"),n("498a"),o["a"].extend({name:"speech-recognizer",props:{grammars:{default:[],type:Array},lang:{default:"",type:String}},data:function(){return{isCurrentSpeechFail:!1,currentAttemptsCount:0,currentGrammarIndex:0,speechRecognition:null}},mounted:function(){var t=this,e=window.SpeechRecognition||window.webkitSpeechRecognition;this.speechRecognition=new e,this.speechRecognition.interimResults=!0,this.speechRecognition.lang=this.lang,this.speechRecognition.continuous=!0,this.speechRecognition.maxAlternatives=1,this.speechRecognition.onresult=function(e){var n=Array.from(e.results).slice(t.currentGrammarIndex+t.currentAttemptsCount),i=n.map((function(t){return t[0].transcript})).join(" ");if(t.$emit("speech",i),n.some((function(t){return t.isFinal}))){var r=n.map((function(t){return t[0].transcript})).join(" ");t.hasTranscriptionMatched(r)?t.currentGrammarIndex===t.grammars.length-1?(t.speechRecognition.abort(),t.$emit("language:done")):(t.currentAttemptsCount=0,++t.currentGrammarIndex,t.$emit("grammar:success",t.currentGrammarIndex)):t.currentAttemptsCount++}},this.speechRecognition.onerror=function(e){"not-allowed"===(null===e||void 0===e?void 0:e.error)&&t.$router.push({name:"unavailable",query:{reason:"audio"}})},this.speechRecognition.start()},methods:{hasTranscriptionMatched:function(t){return t.trim().toLowerCase()===this.grammars[this.currentGrammarIndex].toLowerCase()}}})),h=l,d=n("2877"),p=Object(d["a"])(h,c,u,!1,null,null,null),f=p.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"speech-recognizer"},[n("v-flex",{staticClass:"flex-column justify-center align-center"},[n("v-card",{staticClass:"mx-auto",attrs:{elevation:"24"}},[n("v-carousel",{attrs:{continuous:!1,"show-arrows":!1,"delimiter-icon":"mdi-check",height:"300",value:t.position}},t._l(t.grammars,(function(e,i){return n("v-carousel-item",{key:i},[n("v-sheet",{attrs:{height:"100%",tile:""}},[n("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[n("div",{staticClass:"display-1 pa-6"},[n("div",[n("v-icon",[t._v("mdi-microphone")]),t._v(" "+t._s(e)+" ")],1),n("div",{staticClass:"speech-content subtitle-1",staticStyle:{position:"absolute"}},[t._v(" "+t._s(t.speech||" ")+" ")])])])],1)],1)})),1)],1)],1)],1)},m=[],g=(n("a9e3"),o["a"].extend({name:"challenge-carousel",props:{grammars:{default:[],type:Array},speech:{default:"",type:String},position:{default:0,type:Number}}})),b=g,w=(n("46e1"),n("6544")),y=n.n(w),O=(n("0481"),n("4069"),n("615b"),n("10d2")),j=n("297c"),x=n("1c87"),P=n("58df");function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(n,!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $=Object(P["a"])(j["a"],x["a"],O["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},outlined:Boolean,raised:Boolean,shaped:Boolean},computed:{classes:function(){return T({"v-card":!0},x["a"].options.computed.classes.call(this),{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.loading||this.disabled,"v-card--outlined":this.outlined,"v-card--raised":this.raised,"v-card--shaped":this.shaped},O["a"].options.computed.classes.call(this))},styles:function(){var t=T({},O["a"].options.computed.styles.call(this));return this.img&&(t.background='url("'.concat(this.img,'") center center / cover no-repeat')),t}},methods:{genProgress:function(){var t=j["a"].options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress"},[t]):null}},render:function(t){var e=this.generateRouteLink(),n=e.tag,i=e.data;return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),t(n,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}}),I=(n("63b7"),n("99af"),n("c740"),n("26e9"),n("13b3"),n("afdd")),D=n("9d26"),S=n("604c"),_=n("80d2"),B=function(t){var e=t.touchstartX,n=t.touchendX,i=t.touchstartY,r=t.touchendY,s=.5,o=16;t.offsetX=n-e,t.offsetY=r-i,Math.abs(t.offsetY)<s*Math.abs(t.offsetX)&&(t.left&&n<e-o&&t.left(t),t.right&&n>e+o&&t.right(t)),Math.abs(t.offsetX)<s*Math.abs(t.offsetY)&&(t.up&&r<i-o&&t.up(t),t.down&&r>i+o&&t.down(t))};function E(t,e){var n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,e.start&&e.start(Object.assign(t,e))}function A(t,e){var n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,e.end&&e.end(Object.assign(t,e)),B(e)}function k(t,e){var n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,e.move&&e.move(Object.assign(t,e))}function R(t){var e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:function(t){return E(t,e)},touchend:function(t){return A(t,e)},touchmove:function(t){return k(t,e)}}}function V(t,e,n){var i=e.value,r=i.parent?t.parentElement:t,s=i.options||{passive:!0};if(r){var o=R(e.value);r._touchHandlers=Object(r._touchHandlers),r._touchHandlers[n.context._uid]=o,Object(_["r"])(o).forEach((function(t){r.addEventListener(t,o[t],s)}))}}function L(t,e,n){var i=e.value.parent?t.parentElement:t;if(i&&i._touchHandlers){var r=i._touchHandlers[n.context._uid];Object(_["r"])(r).forEach((function(t){i.removeEventListener(t,r[t])})),delete i._touchHandlers[n.context._uid]}}var G={inserted:V,unbind:L},H=G;function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(n,!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var M=S["a"].extend({name:"v-window",provide:function(){return{windowGroup:this}},directives:{Touch:H},props:{activeClass:{type:String,default:"v-window-item--active"},continuous:Boolean,mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$next"},prevIcon:{type:[Boolean,String],default:"$prev"},reverse:{type:Boolean,default:void 0},showArrows:Boolean,showArrowsOnHover:Boolean,touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data:function(){return{changedByDelimiters:!1,internalHeight:void 0,transitionHeight:void 0,transitionCount:0,isBooted:!1,isReverse:!1}},computed:{isActive:function(){return this.transitionCount>0},classes:function(){return X({},S["a"].options.computed.classes.call(this),{"v-window--show-arrows-on-hover":this.showArrowsOnHover})},computedTransition:function(){if(!this.isBooted)return"";var t=this.vertical?"y":"x",e=this.internalReverse?"-reverse":"";return"v-window-".concat(t).concat(e,"-transition")},hasActiveItems:function(){return Boolean(this.items.find((function(t){return!t.disabled})))},hasNext:function(){return this.continuous||this.internalIndex<this.items.length-1},hasPrev:function(){return this.continuous||this.internalIndex>0},internalIndex:function(){var t=this;return this.items.findIndex((function(e,n){return t.internalValue===t.getValue(e,n)}))},internalReverse:function(){return void 0!==this.reverse?this.reverse:this.isReverse}},watch:{internalIndex:"updateReverse"},mounted:function(){var t=this;window.requestAnimationFrame((function(){return t.isBooted=!0}))},methods:{genContainer:function(){var t=[this.$slots.default];return this.showArrows&&t.push(this.genControlIcons()),this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight||this.transitionHeight}},t)},genIcon:function(t,e,n){var i=this;return this.$createElement("div",{staticClass:"v-window__".concat(t)},[this.$createElement(I["a"],{props:{icon:!0},attrs:{"aria-label":this.$vuetify.lang.t("$vuetify.carousel.".concat(t))},on:{click:function(){i.changedByDelimiters=!0,n()}}},[this.$createElement(D["a"],{props:{large:!0}},e)])])},genControlIcons:function(){var t=[],e=this.$vuetify.rtl?this.nextIcon:this.prevIcon;if(this.hasPrev&&e&&"string"===typeof e){var n=this.genIcon("prev",e,this.prev);n&&t.push(n)}var i=this.$vuetify.rtl?this.prevIcon:this.nextIcon;if(this.hasNext&&i&&"string"===typeof i){var r=this.genIcon("next",i,this.next);r&&t.push(r)}return t},getNextIndex:function(t){var e=(t+1)%this.items.length,n=this.items[e];return n.disabled?this.getNextIndex(e):e},getPrevIndex:function(t){var e=(t+this.items.length-1)%this.items.length,n=this.items[e];return n.disabled?this.getPrevIndex(e):e},next:function(){if(this.isReverse=this.$vuetify.rtl,this.hasActiveItems&&this.hasNext){var t=this.getNextIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)}},prev:function(){if(this.isReverse=!this.$vuetify.rtl,this.hasActiveItems&&this.hasPrev){var t=this.getPrevIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)}},updateReverse:function(t,e){this.changedByDelimiters?this.changedByDelimiters=!1:this.isReverse=t<e}},render:function(t){var e=this,n={staticClass:"v-window",class:this.classes,directives:[]};if(!this.touchless){var i=this.touch||{left:function(){e.$vuetify.rtl?e.prev():e.next()},right:function(){e.$vuetify.rtl?e.next():e.prev()},end:function(t){t.stopPropagation()},start:function(t){t.stopPropagation()}};n.directives.push({name:"touch",value:i})}return t("div",n,[this.genContainer()])}}),N=n("37c6"),q=S["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return S["a"].options.computed.classes.call(this)}},methods:{genData:S["a"].options.methods.genData}}),z=n("d9bd");function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(n,!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var W=M.extend({name:"v-carousel",props:{continuous:{type:Boolean,default:!0},cycle:Boolean,delimiterIcon:{type:String,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:function(t){return t>0}},mandatory:{type:Boolean,default:!0},progress:Boolean,progressColor:String,showArrows:{type:Boolean,default:!0},verticalDelimiters:{type:String,default:void 0}},data:function(){return{internalHeight:this.height,slideTimeout:void 0}},computed:{classes:function(){return J({},M.options.computed.classes.call(this),{"v-carousel":!0,"v-carousel--hide-delimiter-background":this.hideDelimiterBackground,"v-carousel--vertical-delimiters":this.isVertical})},isDark:function(){return this.dark||!this.light},isVertical:function(){return null!=this.verticalDelimiters}},watch:{internalValue:"restartTimeout",interval:"restartTimeout",height:function(t,e){t!==e&&t&&(this.internalHeight=t)},cycle:function(t){t?this.restartTimeout():(clearTimeout(this.slideTimeout),this.slideTimeout=void 0)}},created:function(){this.$attrs.hasOwnProperty("hide-controls")&&Object(z["a"])("hide-controls",':show-arrows="false"',this)},mounted:function(){this.startTimeout()},methods:{genControlIcons:function(){return this.isVertical?null:M.options.methods.genControlIcons.call(this)},genDelimiters:function(){return this.$createElement("div",{staticClass:"v-carousel__controls",style:{left:"left"===this.verticalDelimiters&&this.isVertical?0:"auto",right:"right"===this.verticalDelimiters?0:"auto"}},[this.genItems()])},genItems:function(){for(var t=this,e=this.items.length,n=[],i=0;i<e;i++){var r=this.$createElement(I["a"],{staticClass:"v-carousel__controls__item",attrs:{"aria-label":this.$vuetify.lang.t("$vuetify.carousel.ariaLabel.delimiter",i+1,e)},props:{icon:!0,small:!0,value:this.getValue(this.items[i],i)}},[this.$createElement(D["a"],{props:{size:18}},this.delimiterIcon)]);n.push(r)}return this.$createElement(q,{props:{value:this.internalValue,mandatory:this.mandatory},on:{change:function(e){t.internalValue=e}}},n)},genProgress:function(){return this.$createElement(N["a"],{staticClass:"v-carousel__progress",props:{color:this.progressColor,value:(this.internalIndex+1)/this.items.length*100}})},restartTimeout:function(){this.slideTimeout&&clearTimeout(this.slideTimeout),this.slideTimeout=void 0,window.requestAnimationFrame(this.startTimeout)},startTimeout:function(){this.cycle&&(this.slideTimeout=window.setTimeout(this.next,+this.interval>0?+this.interval:6e3))}},render:function(t){var e=M.options.render.call(this,t);return e.data.style="height: ".concat(Object(_["d"])(this.height),";"),this.hideDelimiters||e.children.push(this.genDelimiters()),(this.progress||this.progressColor)&&e.children.push(this.genProgress()),e}}),K=n("9d65"),Q=n("4e82"),U=Object(P["a"])(K["a"],Object(Q["a"])("windowGroup","v-window-item","v-window")),Z=U.extend().extend().extend({name:"v-window-item",directives:{Touch:H},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{isActive:!1,inTransition:!1}},computed:{classes:function(){return this.groupClasses},computedTransition:function(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot:function(){return this.$slots.default},genWindowItem:function(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.showLazyContent(this.genDefaultSlot()))},onAfterTransition:function(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition:function(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(_["d"])(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled:function(){this.onAfterTransition()},onEnter:function(t){var e=this;this.inTransition&&this.$nextTick((function(){e.computedTransition&&e.inTransition&&(e.windowGroup.transitionHeight=Object(_["d"])(t.clientHeight))}))}},render:function(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},[this.genWindowItem()])}}),tt=n("adda");function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(n,!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var it=Object(P["a"])(Z,x["a"]),rt=it.extend({name:"v-carousel-item",inheritAttrs:!1,methods:{genDefaultSlot:function(){return[this.$createElement(tt["a"],{staticClass:"v-carousel__item",props:nt({},this.$attrs,{height:this.windowGroup.internalHeight}),on:this.$listeners},[this.$slots.default,this.$createElement("template",{slot:"placeholder"},this.$slots.placeholder)])]},genWindowItem:function(){var t=this.generateRouteLink(),e=t.tag,n=t.data;return n.staticClass="v-window-item",n.directives.push({name:"show",value:this.isActive}),this.$createElement(e,n,this.showLazyContent(this.genDefaultSlot()))}}}),st=(n("20f6"),n("e8f2")),ot=Object(st["a"])("flex"),at=n("132d"),ct=n("0fd9"),ut=n("8dd9"),lt=Object(d["a"])(b,v,m,!1,null,null,null),ht=lt.exports;y()(lt,{VCard:$,VCarousel:W,VCarouselItem:rt,VFlex:ot,VIcon:at["a"],VRow:ct["a"],VSheet:ut["a"]});var dt=n("8aaa"),pt=(n("4ec9"),n("d3b7"),n("ddb0"),new Map);pt.set("es-ES",["Hola","Me llamo Pablo","Vivo en Madrid con mi familia","Tengo preparado las maletas para irme a Venecia"]).set("fr-FR",["Salut","Mon nom est Pierre","Je vis à Paris avec toute ma famille","J'ai préparé les valises pour aller à Venise"]).set("en-EN",["Hello","My name is Peter","I live in London with my family","I packed the bags to go to Paris"]);var ft=pt,vt=n("7710");function mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mt(n,!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var bt=o["a"].extend({name:"challenge",data:function(){return{speech:"",grammarSuccessPosition:0,isLanguageDone:!1}},watch:{$route:function(t,e){this.isLanguageDone=!1,this.speech="",this.grammarSuccessPosition=0}},components:{ChallengeCarousel:ht,ChallengeLauncher:dt["a"],SpeechRecognizer:f},computed:gt({grammars:function(){var t;return null!==(t=ft.get(this.$route.query.locale))&&void 0!==t?t:[]},languageLabel:function(){var t=this;return vt["a"].find((function(e){var n=e.locale;return n===t.$route.query.locale})).label}},Object(a["c"])(["availableLanguages"]),{},Object(a["b"])(["isLocaleAvailable"])),methods:{onGrammarSuccess:function(t){this.grammarSuccessPosition=t,this.speech=""},onLanguageDone:function(){this.isLanguageDone=!0},onSpeech:function(t){this.speech=t}}}),wt=bt,yt=n("0789"),Ot=Object(d["a"])(wt,i,r,!1,null,null,null);e["default"]=Ot.exports;y()(Ot,{VIcon:at["a"],VSlideXTransition:yt["d"]})},afdd:function(t,e,n){"use strict";var i=n("8336");e["a"]=i["a"]}}]);
//# sourceMappingURL=challenge.3a1d8eaa.js.map